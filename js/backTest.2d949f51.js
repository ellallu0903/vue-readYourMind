(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["backTest"],{"3f5d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"back_content"},[e("div",{staticClass:"p-5",attrs:{id:"backTest"}},[t._m(0),e("section",{staticClass:"w-100",attrs:{id:"test_basic"}},[e("b-tabs",{staticClass:"h-100",attrs:{expanded:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[t._l(t.tests,(function(s){return[e("b-tab-item",{key:s._id,staticClass:"h-100",scopedSlots:t._u([{key:"header",fn:function(){return[e("span",[t._v(" "+t._s(s.title)+" ")])]},proxy:!0}],null,!0)},[e("div",{staticClass:"has-text-left position_relative mb-3"},[e("div",{staticClass:"columns mb-0"},[e("div",{staticClass:"column is-3"},[e("div",{staticClass:"mb-2"},[e("b",[t._v("測驗名稱：")]),s.edit?e("b-input",{model:{value:s.modelTitle,callback:function(e){t.$set(s,"modelTitle",e)},expression:"test.modelTitle"}}):e("div",[t._v(t._s(s.title))])],1),e("div",{staticClass:"mb-2"},[e("b",[t._v("類別：")]),s.edit?e("b-select",{attrs:{placeholder:"Select a test type"},model:{value:s.modelType,callback:function(e){t.$set(s,"modelType",e)},expression:"test.modelType"}},[e("option",{attrs:{value:"智力測驗"}},[t._v("智力測驗")]),e("option",{attrs:{value:"成就⁄能力測驗"}},[t._v("成就⁄能力測驗")]),e("option",{attrs:{value:"性向測驗"}},[t._v("性向測驗")]),e("option",{attrs:{value:"人格測驗"}},[t._v("人格測驗")]),e("option",{attrs:{value:"心理健康"}},[t._v("心理健康")]),e("option",{attrs:{value:"職業測驗"}},[t._v("職業測驗")]),e("option",{attrs:{value:"其他"}},[t._v("其他")])]):e("div",[t._v(t._s(s.type))])],1),e("div",[e("b",[t._v("計分方式：")]),s.edit?e("div",{staticClass:"block mt-2"},[e("b-radio",{attrs:{name:"testScoringMethod","native-value":"加總計分"},model:{value:s.modelScoringMethod,callback:function(e){t.$set(s,"modelScoringMethod",e)},expression:"test.modelScoringMethod"}},[t._v(" 加總計分 ")]),e("b-radio",{attrs:{name:"testScoringMethod","native-value":"取最多選項"},model:{value:s.modelScoringMethod,callback:function(e){t.$set(s,"modelScoringMethod",e)},expression:"test.modelScoringMethod"}},[t._v(" 取最多選項者 ")])],1):e("div",[t._v(t._s(s.scoringMethod))])])]),e("div",{staticClass:"column is-8"},[e("div",{staticClass:"mb-2"},[e("b",[t._v("文獻⁄來源：")]),s.edit?e("b-input",{attrs:{type:"textarea"},model:{value:s.modelReference,callback:function(e){t.$set(s,"modelReference",e)},expression:"test.modelReference"}}):e("div",[t._v(t._s(s.reference))])],1),e("div",[e("b",[t._v("分數說明：")]),s.edit?e("b-input",{attrs:{type:"textarea"},model:{value:s.modelDescription,callback:function(e){t.$set(s,"modelDescription",e)},expression:"test.modelDescription"}}):e("div",[t._v(t._s(s.description))])],1)]),e("div",{staticClass:"column is-1"},[s.edit?t._e():e("b-button",{staticClass:"btn_backTest_edit",attrs:{"icon-right":"cog-outline",size:"is-medium"},on:{click:function(e){return t.testEdit(s)}}}),s.edit?t._e():e("b-button",{staticClass:"btn_test_delete",attrs:{"icon-right":"trash-can-outline",size:"is-medium"},on:{click:function(e){return t.confirmCustomDelete(s)}}})],1)]),e("div",{staticClass:"has-text-centered"},[s.edit?e("b-button",{staticClass:"btn_enter mr-2",on:{click:function(e){return t.testSave(s)}}},[t._v(" 保存 ")]):t._e(),s.edit?e("b-button",{staticClass:"btn_cancel",on:{click:function(e){return t.testCancel(s)}}},[t._v(" 取消 ")]):t._e()],1)]),e("div",{attrs:{id:"test_question"}},[e("b-table",{attrs:{data:t.testQuestions,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"pagination-rounded":t.isPaginationRounded,striped:"",hoverable:"","mobile-cards":t.hasMobileCards},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}},[e("b-table-column",{attrs:{field:"number",label:"No.",centered:"",width:"50"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("h1",[t._v(t._s(s.row.number))])]}}],null,!0)}),e("b-table-column",{attrs:{field:"question",label:"題目",width:"400"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("h1",[t._v(t._s(s.row.question))])]}}],null,!0)}),e("b-table-column",{attrs:{field:"option",label:"選項",width:"400"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",[e("ol",{staticClass:"list_style"},t._l(s.row.options,(function(s,i){return e("li",{key:i},[t._v(" "+t._s(s.option)+" ❮ "+t._s(s.optionScore)+" ❯ ")])})),0)])]}}],null,!0)})],1)],1)])]}))],2)],1),e("b-button",{attrs:{type:"btn_member_add is-flex is-justify-content-center is-align-items-center"},on:{click:function(e){t.addModalActive=!0}}},[e("b-icon",{staticClass:"animate__animated animate__pulse animate__infinite animate__slow",attrs:{icon:"text-box-plus-outline"}})],1),e("b-modal",{attrs:{active:t.addModalActive},on:{"update:active":function(e){t.addModalActive=e}}},[e("form",{staticClass:"is-flex is-justify-content-center is-align-items-center",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)},reset:t.onReset}},[e("div",{staticClass:"modal-card add_modal_size"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("Create Test")]),e("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){t.addModalActive=!1}}})]),e("section",{staticClass:"modal-card-body px-6 py-5"},[e("b-field",{attrs:{label:"測驗名稱："}},[e("b-input",{attrs:{type:"text",icon:"script-text-outline",placeholder:"Please enter test title . . .",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),e("b-field",{attrs:{label:"類別："}},[e("b-select",{attrs:{required:"",placeholder:"Select a test type"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[e("option",{attrs:{value:"智力測驗"}},[t._v("智力測驗")]),e("option",{attrs:{value:"成就⁄能力測驗"}},[t._v("成就⁄能力測驗")]),e("option",{attrs:{value:"性向測驗"}},[t._v("性向測驗")]),e("option",{attrs:{value:"人格測驗"}},[t._v("人格測驗")]),e("option",{attrs:{value:"心理健康"}},[t._v("心理健康")]),e("option",{attrs:{value:"職業測驗"}},[t._v("職業測驗")]),e("option",{attrs:{value:"其他"}},[t._v("其他")])])],1),e("b-field",{attrs:{label:"計分方式："}},[e("b-radio",{attrs:{name:"addTestScoringMethod","native-value":"加總計分"},model:{value:t.scoringMethod,callback:function(e){t.scoringMethod=e},expression:"scoringMethod"}},[t._v(" 加總計分 ")]),e("b-radio",{attrs:{name:"addTestScoringMethod","native-value":"取最多選項"},model:{value:t.scoringMethod,callback:function(e){t.scoringMethod=e},expression:"scoringMethod"}},[t._v(" 取最多選項者 ")])],1),e("b-field",{attrs:{label:"文獻⁄來源："}},[e("b-input",{attrs:{type:"textarea",placeholder:"Please enter test reference . . .",required:""},model:{value:t.reference,callback:function(e){t.reference=e},expression:"reference"}})],1),e("b-field",{attrs:{label:"分數說明："}},[e("b-input",{attrs:{type:"textarea",placeholder:"Please enter test description . . .",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),e("b-field",{attrs:{label:"題目："}},[e("b-input",{attrs:{type:"text",icon:"format-list-text",placeholder:"Please enter test question . . .",required:""},model:{value:t.question,callback:function(e){t.question=e},expression:"question"}})],1),e("b-field",{attrs:{label:"選項："}},[e("b-input",{attrs:{type:"text",icon:"text",placeholder:"Please enter test option . . .",required:""},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}})],1),e("b-numberinput",{model:{value:t.optionScore,callback:function(e){t.optionScore=e},expression:"optionScore"}})],1),e("footer",{staticClass:"modal-card-foot is-justify-content-center is-align-items-center"},[e("button",{staticClass:"button btn_enter",attrs:{type:"submit"}},[t._v("建立")]),e("button",{staticClass:"button btn_cancel",attrs:{type:"reset"}},[t._v("重置")])])])])]),e("b-button",{attrs:{type:"btn_test_patch is-flex is-justify-content-center is-align-items-center"},on:{click:function(e){t.patchModalActive=!0}}},[e("b-icon",{staticClass:"animate__animated animate__pulse animate__infinite animate__slow",attrs:{icon:"playlist-edit"}})],1),e("b-modal",{attrs:{active:t.patchModalActive},on:{"update:active":function(e){t.patchModalActive=e}}},[e("div",{staticClass:"is-flex is-justify-content-center is-align-items-center"},[e("div",{staticClass:"modal-card w-100"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("題目 & 選項")]),e("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){t.patchModalActive=!1}}})]),e("section",{staticClass:"modal-card-body px-6 py-5"},[e("div",{staticClass:"columns is-justify-content-space-around"},[e("div",{staticClass:"column is-4"},[e("div",{staticClass:"columns is-flex-direction-column"},[e("div",{staticClass:"column box_question_add p-5 mb-2"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.quesitonSubmit.apply(null,arguments)},reset:t.quesitonReset}},[e("div",{staticClass:"has-text-centered is-size-4 mb-3"},[t._v(" 新增題目 "),e("b-icon",{attrs:{icon:"text-box-plus"}})],1),e("b-field",{staticClass:"mb-4",attrs:{label:"題目："}},[e("b-input",{attrs:{type:"text",icon:"format-list-text",placeholder:"Please enter test question . . .",required:""},model:{value:t.aQuestion,callback:function(e){t.aQuestion=e},expression:"aQuestion"}})],1),e("b-field",{staticClass:"mb-3",attrs:{label:"選項："}},[e("b-input",{attrs:{type:"text",icon:"text",placeholder:"Please enter test option . . .",required:""},model:{value:t.aOption,callback:function(e){t.aOption=e},expression:"aOption"}})],1),e("b-numberinput",{model:{value:t.aOptionScore,callback:function(e){t.aOptionScore=e},expression:"aOptionScore"}}),e("div",{staticClass:"has-text-centered mt-5"},[e("button",{staticClass:"button btn_enter mr-2",staticStyle:{width:"50px"},attrs:{type:"submit"}},[t._v(" 送出 ")]),e("button",{staticClass:"button btn_cancel",staticStyle:{width:"50px"},attrs:{type:"reset"}},[t._v(" 重置 ")])])],1)]),e("div",{staticClass:"column box_option_add p-5 mb-2"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.optionSubmit.apply(null,arguments)},reset:t.optionReset}},[e("div",{staticClass:"has-text-centered is-size-4 mb-3"},[t._v(" 新增選項 "),e("b-icon",{attrs:{icon:"plus-box-multiple"}})],1),e("b-field",{staticClass:"mb-4",attrs:{label:"題目："}},[e("b-select",{attrs:{placeholder:"Select a character",required:"",expanded:""},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}},t._l(t.testQuestions,(function(s,i){return e("option",{key:i,domProps:{value:s._id}},[t._v(" "+t._s(i+1)+". "+t._s(s.question)+" ")])})),0)],1),e("b-field",{staticClass:"mb-3",attrs:{label:"選項："}},[e("b-input",{attrs:{type:"text",icon:"text",placeholder:"Please enter test option . . .",required:""},model:{value:t.aaOption,callback:function(e){t.aaOption=e},expression:"aaOption"}})],1),e("b-numberinput",{model:{value:t.aaOptionScore,callback:function(e){t.aaOptionScore=e},expression:"aaOptionScore"}}),e("div",{staticClass:"has-text-centered mt-5"},[e("button",{staticClass:"button btn_enter mr-2",staticStyle:{width:"50px"},attrs:{type:"submit"}},[t._v(" 送出 ")]),e("button",{staticClass:"button btn_cancel",staticStyle:{width:"50px"},attrs:{type:"reset"}},[t._v(" 重置 ")])])],1)])])]),e("div",{staticClass:"column is-7 box_test_edit px-6 py-5 position_relative"},[e("div",{staticClass:"has-text-centered is-size-4 mb-3"},[t._v(" 編輯 "),e("b-icon",{attrs:{icon:"file-edit-outline"}})],1),e("ol",{staticClass:"list_style_num"},t._l(t.testQuestions,(function(s,i){return e("li",{key:i,staticClass:"p-2"},[s.edit?e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.modelQ,expression:"question.modelQ"}],staticClass:"w-80",attrs:{type:"text"},domProps:{value:s.modelQ},on:{input:function(e){e.target.composing||t.$set(s,"modelQ",e.target.value)}}})]):e("span",[t._v(t._s(s.question))]),s.edit?t._e():e("b-button",{staticClass:"btn_question_edit",attrs:{"icon-right":"pencil-outline"},on:{click:function(e){return t.questionEdit(s)}}}),s.edit?t._e():e("b-button",{staticClass:"btn_question_delete mr-5",attrs:{"icon-right":"delete"},on:{click:function(e){return t.questionDelete(s)}}}),s.edit?e("b-button",{staticClass:"btn_question_edit",attrs:{"icon-right":"content-save"},on:{click:function(e){return t.questionPatch(s)}}}):t._e(),s.edit?e("b-button",{staticClass:"btn_question_delete",attrs:{"icon-right":"close-outline"},on:{click:function(e){return t.questionCancel(s)}}}):t._e(),e("br"),t._l(s.options,(function(s,i){return e("div",{key:i},[t._v(" ▪"+t._s(s.option)+" ❮ "+t._s(s.optionScore)+" ❯ "),e("b-button",{staticClass:"btn_question_delete",attrs:{"icon-right":"delete-outline"},on:{click:function(e){return t.optionDelete(s)}}})],1)}))],2)})),0)])])])])])])],1)])},o=[function(){var t=this,e=t._self._c;return e("nav",{staticClass:"breadcrumb has-bullet-separator"},[e("ul",[e("li",[e("a",{attrs:{href:"#/"}},[t._v("首頁")])]),e("li",[e("a",{attrs:{href:"#/backStage/home"}},[t._v("後台管理")])]),e("li",[t._v("前台內容管理")]),e("li",{staticClass:"is-active"},[e("a",{attrs:{href:"#"}},[t._v("心理測驗")])])])])}],a=(s("14d9"),{data(){return{hasMobileCards:!0,isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",currentPage:1,perPage:7,addModalActive:!1,patchModalActive:!1,testId:"",title:"",type:"",scoringMethod:"加總計分",reference:"",description:"",question:"",questions:"",option:"",optionScore:0,tests:[],activeTab:0,isEdit:!1,modelQuestion:"",qq:[],aQuestion:"",aOption:"",aOptionScore:0,selectedOptions:"",aaOption:"",aaOptionScore:0}},computed:{testQuestions(){let t=1;return this.tests[this.activeTab].questions.map(e=>(e.number=t++,e))}},methods:{onSubmit(){this.axios.post("https://vue-readyourmind.onrender.com/tests/",this.$data).then(t=>{t.data.success?(this.$buefy.dialog.alert({title:"Success!",message:"新增成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"}),this.tests.push({_id:t.data.result._id,title:this.title,type:this.type,scoringMethod:this.scoringMethod,reference:this.reference,description:this.description,edit:!1,modelTitle:this.title,modelDescription:this.description,modelReference:this.reference,modelType:this.type,modelScoringMethod:this.scoringMethod,questions:[{question:this.question,options:{option:this.option,optionScore:this.optionScore}}]}),this.title="",this.type="",this.scoringMethod="",this.reference="",this.description="",this.question="",this.option="",this.optionScore=0,this.addModalActive=!1):this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-circle"})})},onReset(){this.title="",this.type="",this.scoringMethod="",this.reference="",this.description="",this.question="",this.option="",this.optionScore=0},testCancel(t){t.edit=!1,t.modelTitle=t.title,t.modelDescription=t.description,t.modelReference=t.reference,t.modelType=t.type,t.modelScoringMethod=t.scoringMethod},testSave(t){this.axios.patch("https://vue-readyourmind.onrender.com/tests/"+t._id,{title:t.modelTitle,description:t.modelDescription,reference:t.modelReference,type:t.modelType,scoringMethod:t.modelScoringMethod}).then(e=>{e.data.success?(t.edit=!1,t.title=t.modelTitle,t.description=t.modelDescription,t.reference=t.modelReference,t.type=t.modelType,t.scoringMethod=t.modelScoringMethod,this.$buefy.dialog.alert({title:"Success!",message:"保存成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"})):this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-broken"})})},testEdit(t){t.edit=!0,t.title=t.modelTitle,t.description=t.modelDescription,t.reference=t.modelReference,t.type=t.modelType,t.scoringMethod=t.modelScoringMethod},testDelete(t){this.axios.delete("https://vue-readyourmind.onrender.com/tests/"+t._id).then(t=>{t.data.success?(this.$buefy.dialog.alert({title:"Success!",message:"刪除成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"}),this.tests.splice(this.activeTab,1)):this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{console.log(t),this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-circle"})})},confirmCustomDelete(t){this.$buefy.dialog.confirm({title:"Deleting test",message:"你確定要刪除這筆測驗嗎？",confirmText:"Yes",type:"is-danger",hasIcon:!0,onConfirm:()=>this.axios.delete("https://vue-readyourmind.onrender.com/tests/"+t._id).then(e=>{if(e.data.success){this.$buefy.dialog.alert({title:"Success!",message:"刪除成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"});const e=this.tests.findIndex(e=>e._id===t._id);this.activeTab=e-1,this.tests.splice(e,1)}else this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{console.log(t),this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-circle"})})})},quesitonSubmit(){this.axios.patch("https://vue-readyourmind.onrender.com/tests/questions/"+this.tests[this.activeTab]._id,{questions:{question:this.aQuestion,options:{option:this.aOption,optionScore:this.aOptionScore}}}).then(t=>{t.data.success?(this.$buefy.dialog.alert({title:"Success!",message:"新增成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"}),this.tests[this.activeTab].questions.push({question:this.aQuestion,modelQ:this.aQuestion,edit:!1,_id:t.data.result.questions[t.data.result.questions.length-1]._id,options:[{option:this.aOption,optionScore:this.aOptionScore,_id:t.data.result.questions[t.data.result.questions.length-1].options[0]._id}]}),this.aQuestion="",this.aOption="",this.aOptionScore=0):this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-circle"})})},quesitonReset(){this.aQuestion="",this.aOption="",this.aOptionScore=0},questionDelete(t){this.axios.delete("https://vue-readyourmind.onrender.com/tests/questions/"+t._id).then(e=>{if(e.data.success){this.$buefy.dialog.alert({title:"Success!",message:"刪除成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"});const e=this.tests[this.activeTab].questions.findIndex(e=>e._id===t._id);this.tests[this.activeTab].questions.splice(e,1),this.users.splice(t.index,1)}else this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-circle"})})},questionEdit(t){for(const e in this.tests)for(const s in this.tests[e].questions)if(this.tests[e].questions[s]._id===t._id){this.tests[e].questions[s].edit=!0;break}t.edit=!0,t.question=t.modelQ},questionCancel(t){t.edit=!1,t.modelQ=t.question},questionPatch(t){this.axios.patch("https://vue-readyourmind.onrender.com/tests/questionsEdit/"+t._id,{question:t.modelQ}).then(e=>{e.data.success?(t.edit=!1,t.question=t.modelQ,this.$buefy.dialog.alert({title:"Success!",message:"保存成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"})):this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-broken"})})},optionDelete(t){this.axios.delete("https://vue-readyourmind.onrender.com/tests/questions/options/"+t._id).then(e=>{if(e.data.success){this.$buefy.dialog.alert({title:"Success!",message:"刪除成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"});let e=-1,s=-1;for(let i=0;i<this.tests[this.activeTab].questions.length;i++)if(s=this.tests[this.activeTab].questions[i].options.findIndex(e=>e._id===t._id),s>-1){e=i;break}this.tests[this.activeTab].questions[e].options.splice(s,1),this.users.splice(t.index,1)}else this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-circle"})})},optionSubmit(){this.axios.patch("https://vue-readyourmind.onrender.com/tests/questions/options/"+this.selectedOptions,{option:this.aaOption,optionScore:this.aaOptionScore}).then(t=>{if(t.data.success){this.$buefy.dialog.alert({title:"Success!",message:"新增成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"});const e=this.tests[this.activeTab].questions.findIndex(t=>t._id===this.selectedOptions);this.tests[this.activeTab].questions[e].options.push({option:this.aaOption,_id:t.data.result.questions[e].options[t.data.result.questions[e].options.length-1]._id,optionScore:this.aaOptionScore}),this.question="",this.aaOption="",this.aaOptionScore=0}else this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-circle"})})},optionReset(){this.aaOption="",this.aaOptionScore=0}},mounted(){this.axios.get("https://vue-readyourmind.onrender.com/tests/").then(t=>{t.data.success?this.tests=t.data.result.map(t=>{t.edit=!1,t.modelTitle=t.title,t.modelDescription=t.description,t.modelReference=t.reference,t.modelType=t.type,t.modelScoringMethod=t.scoringMethod;for(const e of t.questions)e.edit=!1,e.modelQ=e.question;return t}):this.$swal({icon:"error",title:"發生錯誤",text:t.data.message})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-broken"})})}}),n=a,r=s("2877"),c=Object(r["a"])(n,i,o,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=backTest.2d949f51.js.map