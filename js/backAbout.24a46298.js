(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["backAbout"],{"45cf":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"back_content"},[e("div",{staticClass:"p-5",attrs:{id:"backAbout"}},[t._m(0),e("b-table",{attrs:{data:t.abouts,striped:"",hoverable:"","mobile-cards":t.hasMobileCards}},[e("b-table-column",{attrs:{field:"step",label:"No.",centered:"",width:"100"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("h1",[t._v(t._s(s.index+1))])]}}])}),e("b-table-column",{attrs:{field:"title",label:"標題",width:"200"},scopedSlots:t._u([{key:"default",fn:function(s){return[s.row.edit?e("b-input",{model:{value:s.row.model01,callback:function(e){t.$set(s.row,"model01",e)},expression:"props.row.model01"}}):e("h1",[t._v(t._s(s.row.title))])]}}])}),e("b-table-column",{attrs:{field:"content",label:"內容",width:"800"},scopedSlots:t._u([{key:"default",fn:function(s){return[s.row.edit?e("b-input",{model:{value:s.row.model02,callback:function(e){t.$set(s.row,"model02",e)},expression:"props.row.model02"}}):e("div",[t._v(t._s(s.row.content))])]}}])}),e("b-table-column",{attrs:{field:"edit",label:"編輯",width:"150"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",[s.row.edit?t._e():e("button",{staticClass:"btn_enter btn_back_size mr-2",on:{click:function(e){return t.edit(s)}}},[e("b-icon",{attrs:{icon:"pencil-outline"}})],1),s.row.edit?t._e():e("button",{staticClass:"btn_cancel btn_back_size",on:{click:function(e){return t.del(s,s.index)}}},[e("b-icon",{attrs:{icon:"trash-can-outline"}})],1)]),e("div",[s.row.edit?e("button",{staticClass:"btn_enter btn_back_size mr-2",on:{click:function(e){return t.save(s)}}},[e("b-icon",{attrs:{icon:"content-save"}})],1):t._e(),s.row.edit?e("button",{staticClass:"btn_cancel btn_back_size",on:{click:function(e){return t.cancel(s)}}},[e("b-icon",{attrs:{icon:"close-outline"}})],1):t._e()])]}}])})],1),e("hr"),e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)},reset:t.onReset}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column back_pre_box is-flex is-justify-content-center is-flex-direction-column m-1"},[e("div",{staticClass:"is-flex is-flex-direction-column"},[e("div",{staticClass:"is-size-4 has-text-centered"},[t._v("預覽")]),e("section",{staticClass:"mt-5 has-text-centered"},[e("b-steps",{staticClass:"w-100 h-100 is-flex is-flex-direction-column is-justify-content-space-between",attrs:{"icon-prev":t.prevIcon,"icon-next":t.nextIcon,"label-position":t.labelPosition,"mobile-mode":t.mobileMode,size:"is-large"},scopedSlots:t._u([{key:"navigation",fn:function({previous:s,next:i}){return t.customNavigation?[e("b-button",{attrs:{outlined:"",type:"is-danger","icon-pack":"fas","icon-left":"backward",disabled:s.disabled},on:{click:function(t){return t.preventDefault(),s.action.apply(null,arguments)}}},[t._v(" Previous ")]),e("b-button",{attrs:{outlined:"",type:"is-success","icon-pack":"fas","icon-right":"forward",disabled:i.disabled},on:{click:function(t){return t.preventDefault(),i.action.apply(null,arguments)}}},[t._v(" Next ")])]:void 0}}],null,!0)},t._l(t.abouts,(function(s,i){return e("b-step-item",{key:i,staticClass:"p-4",attrs:{step:i+1,label:s.title,clickable:t.isStepsClickable}},[e("h1",{staticClass:"is-size-4 has-text-weight-semibold"},[t._v(" "+t._s(s.title)+" ")]),e("div",{staticClass:"backAbout_pre_box_h py-2 px-5"},[t._v(" "+t._s(s.content)+" ")])])})),1)],1)])]),e("div",{staticClass:"column back_add_box m-1"},[e("div",{staticClass:"w-100 is-flex is-justify-content-center is-align-items-center is-flex-direction-column"},[e("div",{staticClass:"is-size-4 has-text-centered"},[t._v("新增")]),e("b-field",{staticClass:"w-75",attrs:{id:"back_add_title",label:"標題"}},[e("b-input",{attrs:{type:"text",required:"","validation-message":"請輸入標題。",placeholder:"Please enter title . . ."},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),e("b-field",{staticClass:"w-75",attrs:{id:"back_add_content",label:"內容"}},[e("b-input",{attrs:{type:"textarea",minlength:"1",maxlength:"200",required:"","validation-message":"請輸入內容。",placeholder:"Please enter content . . ."},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._m(1)],1)])])])],1)])},a=[function(){var t=this,e=t._self._c;return e("nav",{staticClass:"breadcrumb has-bullet-separator"},[e("ul",[e("li",[e("a",{attrs:{href:"#/"}},[t._v("首頁")])]),e("li",[e("a",{attrs:{href:"#/backStage"}},[t._v("前台內容管理")])]),e("li",{staticClass:"is-active"},[e("a",{attrs:{href:"#"}},[t._v("使用說明")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"buttons"},[e("button",{staticClass:"button btn_enter mr-2",attrs:{type:"submit"}},[t._v(" 送出 ")]),e("button",{staticClass:"button btn_cancel",attrs:{type:"reset"}},[t._v("重置")])])}],o={data(){return{hasMobileCards:!0,title:"",content:"",abouts:[],activeStep:0,isStepsClickable:!0,customNavigation:!1,isProfileSuccess:!1,prevIcon:"chevron-left",nextIcon:"chevron-right",labelPosition:"bottom",mobileMode:"minimalist"}},methods:{onSubmit(){this.axios.post("https://vue-readyourmind.onrender.com/abouts/",this.$data).then(t=>{t.data.success?(this.$buefy.dialog.alert({title:"Success!",message:"新增成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"}),this.title="",this.content=""):this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-circle"})})},onReset(){this.title="",this.content=""},cancel(t){t.row.edit=!1,t.row.model01=t.row.title,t.row.model02=t.row.content},save(t){this.axios.patch("https://vue-readyourmind.onrender.com/abouts/"+t.row._id,{title:t.row.model01,content:t.row.model02}).then(e=>{e.data.success?(t.row.edit=!1,t.row.title=t.row.model01,t.row.content=t.row.model02,this.$buefy.dialog.alert({title:"Success!",message:"保存成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"}),this.abouts[t.index].title=t.row.model01,this.abouts[t.index].content=t.row.model02):this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-broken"})})},edit(t){t.row.edit=!0,t.row.title=t.row.model01,t.row.content=t.row.model02},del(t){this.axios.delete("https://vue-readyourmind.onrender.com/abouts/"+t.row._id).then(e=>{e.data.success?(this.$buefy.dialog.alert({title:"Success!",message:"刪除成功！",type:"is-danger",hasIcon:!0,icon:"heart-circle"}),this.abouts.splice(t.index,1)):this.$buefy.dialog.alert({title:"Error!",message:"發生錯誤！",type:"is-danger",hasIcon:!0,icon:"heart-broken"})}).catch(t=>{console.log(t),this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-circle"})})}},mounted(){this.axios.get("https://vue-readyourmind.onrender.com/abouts/").then(t=>{t.data.success?this.abouts=t.data.result.map(t=>(t.edit=!1,t.model01=t.title,t.model02=t.content,t)):this.$swal({icon:"error",title:"發生錯誤",text:t.data.message})}).catch(t=>{this.$buefy.dialog.alert({title:"Error!",message:t.response.data.message,type:"is-danger",hasIcon:!0,icon:"heart-broken"})})}},n=o,l=s("2877"),r=Object(l["a"])(n,i,a,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=backAbout.24a46298.js.map