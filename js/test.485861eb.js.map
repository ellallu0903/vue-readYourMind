{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/internals/engine-is-node.js","webpack:///./src/views/Test.vue","webpack:///src/views/Test.vue","webpack:///./src/views/Test.vue?6346","webpack:///./src/views/Test.vue?fd64","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-reduce.js"],"names":["$","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","CHROME_BUG","FORCED","target","proto","forced","reduce","callbackfn","length","arguments","this","undefined","global","classof","module","exports","process","render","_vm","_c","_self","staticClass","attrs","_m","_v","_s","tests","title","on","$event","preventDefault","onSubmit","apply","_l","questions","quesiton","index","key","question","options","option","index2","_id","optionScore","model","value","modelQuestion","callback","$$v","$set","_n","expression","staticRenderFns","data","testId","$route","params","id","hasMobileCards","scores","result","computed","user","$store","state","hasValue","Object","values","includes","methods","i","j","$buefy","dialog","alert","message","type","hasIcon","icon","scoringMethod","allOptions","push","axios","patch","testData_id","date","Date","now","then","res","success","path","$router","catch","err","response","mounted","get","component","fails","METHOD_NAME","argument","method","call","aCallable","toObject","IndexedObject","lengthOfArrayLike","$TypeError","TypeError","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","right"],"mappings":"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","file":"js/test.485861eb.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\nvar FORCED = CHROME_BUG || !arrayMethodIsStrict('reduce');\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar global = require('../internals/global');\nvar classof = require('../internals/classof-raw');\n\nmodule.exports = classof(global.process) === 'process';\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"one_page_min_h bg_color p-5\",attrs:{\"id\":\"test_page\"}},[_vm._m(0),_c('div',{staticClass:\"is-flex is-align-items-center is-flex-direction-column\",attrs:{\"id\":\"test_question\"}},[_c('div',{staticClass:\"title is-3\"},[_vm._v(_vm._s(_vm.tests.title))]),_c('form',{staticClass:\"w-100 is-flex is-align-items-center is-flex-direction-column\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"box_test_title is-size-5 mb-3\"},[_vm._v(\" 請根據下方題目的敘述，選擇最符合您情況的選項： \")]),_c('div',{staticClass:\"box_test p-6\"},_vm._l((_vm.questions),function(quesiton,index){return _c('div',{key:index,staticClass:\"columns w-100\"},[_c('div',{staticClass:\"column is-6\"},[_c('div',{staticClass:\"is-flex\"},[_c('div',{staticClass:\"is-size-18 is-1 mr-3\"},[_vm._v(\" \"+_vm._s(index + 1)+\" \")]),_c('div',{staticClass:\"is-size-18 is-11\"},[_vm._v(\" \"+_vm._s(_vm.questions[index].question)+\" \")])])]),_c('div',{staticClass:\"column is-6 is-size-18\"},_vm._l((_vm.questions[index].options),function(option,index2){return _c('b-radio',{key:option._id,attrs:{\"native-value\":_vm.questions[index].options[index2].optionScore,\"name\":'q' + index},model:{value:(_vm.modelQuestion[index]),callback:function ($$v) {_vm.$set(_vm.modelQuestion, index, _vm._n($$v))},expression:\"modelQuestion[index]\"}},[_vm._v(\" \"+_vm._s(_vm.questions[index].options[index2].option)+\" \")])}),1)])}),0),_c('button',{staticClass:\"btn_enter btn_test_size mt-5\",attrs:{\"type\":\"submit\"}},[_vm._v(\"送出\")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('nav',{staticClass:\"breadcrumb has-bullet-separator\"},[_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"#/\"}},[_vm._v(\"首頁\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#/testList\"}},[_vm._v(\"心理測驗\")])]),_c('li',{staticClass:\"is-active\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"開始測驗\")])])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"test_page\" class=\"one_page_min_h bg_color p-5\">\n    <nav class=\"breadcrumb has-bullet-separator\">\n      <ul>\n        <li><a href=\"#/\">首頁</a></li>\n        <li><a href=\"#/testList\">心理測驗</a></li>\n        <li class=\"is-active\"><a href=\"#\">開始測驗</a></li>\n      </ul>\n    </nav>\n    <div\n      id=\"test_question\"\n      class=\"is-flex is-align-items-center is-flex-direction-column\"\n    >\n      <div class=\"title is-3\">{{ tests.title }}</div>\n      <form\n        class=\"w-100 is-flex is-align-items-center is-flex-direction-column\"\n        @submit.prevent=\"onSubmit\"\n      >\n        <div class=\"box_test_title is-size-5 mb-3\">\n          請根據下方題目的敘述，選擇最符合您情況的選項：\n        </div>\n        <div class=\"box_test p-6\">\n          <div\n            class=\"columns w-100\"\n            v-for=\"(quesiton, index) in questions\"\n            :key=\"index\"\n          >\n            <div class=\"column is-6\">\n              <div class=\"is-flex\">\n                <div class=\"is-size-18 is-1 mr-3\">\n                  {{ index + 1 }}\n                </div>\n                <div class=\"is-size-18 is-11\">\n                  {{ questions[index].question }}\n                </div>\n              </div>\n            </div>\n            <div class=\"column is-6 is-size-18\">\n              <b-radio\n                v-for=\"(option, index2) in questions[index].options\"\n                :key=\"option._id\"\n                v-model.number=\"modelQuestion[index]\"\n                :native-value=\"questions[index].options[index2].optionScore\"\n                :name=\"'q' + index\"\n              >\n                <!-- {{ questions[index].options[index2].optionScore }} -->\n                {{ questions[index].options[index2].option }}\n              </b-radio>\n            </div>\n          </div>\n        </div>\n\n        <button class=\"btn_enter btn_test_size mt-5\" type=\"submit\">送出</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      testId: this.$route.params.id,\n      tests: [],\n      questions: [],\n      modelQuestion: [],\n      // table\n      hasMobileCards: true,\n      // result_data\n      scores: 0,\n      result: []\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.state.user\n    },\n    hasValue() {\n      // 判斷表單有無 null 值\n      if (Object.values(this.modelQuestion).includes(null)) {\n        return false\n      } else {\n        return true\n      }\n    }\n  },\n  methods: {\n    onSubmit() {\n      for (let i = 0; i < this.questions.length; i++) {\n        if (this.modelQuestion[i] == null) {\n          const j = i + 1\n          this.$buefy.dialog.alert({\n            title: 'Opps!',\n            message: '第' + j + '題尚未完成～',\n            type: 'is-danger',\n            hasIcon: true,\n            icon: 'alert-circle-outline'\n          })\n        } else if (this.tests.scoringMethod === '加總計分') {\n          this.scores += this.modelQuestion[i]\n          this.hasValue++\n        } else {\n          this.result = this.modelQuestion.reduce(function(allOptions, option) {\n            if (option in allOptions) {\n              allOptions[option]++\n            } else {\n              allOptions[option] = 1\n            }\n            return allOptions\n          }, {})\n          this.hasValue.push(2)\n        }\n      }\n\n      if (this.hasValue) {\n        this.axios\n          .patch(process.env.VUE_APP_API + '/users/result/' + this.user.id, {\n            testData_id: this.$route.params.id,\n            date: Date.now(),\n            scores: this.scores,\n            result: this.result\n          })\n          .then(res => {\n            if (res.data.success) {\n              this.$buefy.dialog.alert({\n                title: 'Success!',\n                message: '去看結果吧～',\n                type: 'is-danger',\n                hasIcon: true,\n                icon: 'heart-circle'\n              })\n              this.scores = ''\n              this.result = []\n              // 導到個人專區\n              if (this.$route.path !== '/personal') {\n                this.$router.push(`/personal?test=${this.$route.params.id}`)\n              }\n            } else {\n              this.$buefy.dialog.alert({\n                title: 'Error!',\n                message: '發生錯誤！',\n                type: 'is-danger',\n                hasIcon: true,\n                icon: 'heart-broken'\n              })\n            }\n          })\n          .catch(err => {\n            this.$buefy.dialog.alert({\n              title: 'Error!',\n              message: err.response.data.message,\n              type: 'is-danger',\n              hasIcon: true,\n              icon: 'heart-circle'\n            })\n          })\n      }\n    }\n  },\n  mounted() {\n    this.axios\n      .get(process.env.VUE_APP_API + '/tests/' + this.testId)\n      .then(res => {\n        if (res.data.success) {\n          this.tests = res.data.result\n          this.questions = res.data.result.questions\n          for (let i = 0; i < this.questions.length; i++) {\n            this.modelQuestion.push(null)\n          }\n        } else {\n          this.$buefy.dialog.alert({\n            title: 'Error!',\n            message: res.data.message,\n            type: 'is-danger',\n            hasIcon: true,\n            icon: 'heart-broken'\n          })\n        }\n      })\n      .catch(err => {\n        this.$buefy.dialog.alert({\n          title: 'Error!',\n          message: err.response.data.message,\n          type: 'is-danger',\n          hasIcon: true,\n          icon: 'heart-broken'\n        })\n      })\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Test.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Test.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Test.vue?vue&type=template&id=8565d516\"\nimport script from \"./Test.vue?vue&type=script&lang=js\"\nexport * from \"./Test.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar $TypeError = TypeError;\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aCallable(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw new $TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n"],"sourceRoot":""}